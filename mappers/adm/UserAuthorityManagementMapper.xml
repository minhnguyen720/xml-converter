<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dou.adm.mappers.UserAuthorityManagementMapper">

	<resultMap id="BtnAuthMap" type="BtnAuthVO">
		<result property="btnNo" column="BTN_NO" javaType="String"/>
		<result property="btnNm" column="BTN_NM" javaType="String"/>
		<result property="createUser" column="cre_usr_id"/>
		<result property="updateUser" column="upd_usr_id"/>
		<result property="createDate" column="cre_dt"/>
		<result property="updateDate" column="upd_dt"/>
	</resultMap>
	<select id="selectBtnAuth" resultMap="BtnAuthMap">
		select 	/** cas.UserAuthorityManagement.selectUserAuthorityManagement */
				BTN_NO,
				BTN_NM,
				cre_usr_id, cre_dt, upd_usr_id, upd_dt
		from	ADM_BTN_AUTH
		order by LPAD(BTN_NO, 2)
	</select>

	<resultMap id="AdmRolePgmBtnAuthMap" type="AdmRolePgmBtnAuthVO">
		<result property="btnNo" column="BTN_NO" javaType="String"/>
		<result property="roleId" column="ROLE_ID" javaType="String"/>
		<result property="mnuPgmId" column="MNU_PGM_ID" javaType="String"/>
		<result property="createUser" column="cre_usr_id"/>
		<result property="updateUser" column="upd_usr_id"/>
		<result property="createDate" column="cre_dt"/>
		<result property="updateDate" column="upd_dt"/>
	</resultMap>
	<select id="selectButonAuthWithUserRole" parameterType="hashMap" resultMap="AdmRolePgmBtnAuthMap">
		select 	/** cas.UserAuthorityManagement.selectButonAuthWithUserRole */
					auth.BTN_NO,
					auth.ROLE_ID,
					auth.MNU_PGM_ID,
					auth.cre_usr_id, auth.cre_dt, auth.upd_usr_id, auth.upd_dt
		from	ADM_ROLE_PGM_BTN_AUTH auth,ADM_USR_ROLE role
		where	1 = 1
	    and auth.ROLE_ID = role.ROLE_ID
	    and role.usr_id = #{usrId}
	</select>

</mapper>